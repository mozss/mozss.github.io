---
title: golang避坑
tags:
  - golang
categories:
  - code
  - code-golang
abbrlink: 62876
date: 2022-06-15 01:16:48
---
[![ppnX5gs.png](https://s1.ax1x.com/2023/03/10/ppnX5gs.png)](https://imgse.com/i/ppnX5gs)

<!--more-->

## 1. 不要使用多个初始化函数

一些初学者会喜欢使用多个初始化函数，比如init1、init2等等，这是不好的写法。因为这些函数执行顺序并不是很明确，可能会导致依赖问题，因此推荐只使用一个init函数来进行初始化。

## 2. 不要忘记检查返回值

使用golang必须要克服的一种毛病就是忘记检查返回值。这很危险，错误会悄悄地发生，并且不容易被发现。所以，对于所有的函数，都要检查其返回值，即使它只是一个简单的调用。

## 3. 不要使用未初始化的变量

如果你尝试使用一个未初始化的变量，则会引发一些意想不到的问题。因此，要养成好习惯，一定要先初始化变量，然后再使用它们。

## 4. 不要在循环中使用defer

如果你在循环中使用了defer，那么每次循环都会创建一个新的defer函数。这将会浪费大量内存，并可能导致你的程序异常崩溃。因此，在制定带defer函数的程序时，请确保其在循环之外。

## 5. 不要犯使用指针的错误

这个问题可能在golang的初学者中非常普遍。请记住，如果您使用了指针，那么您应该始终检查它是否为nil。否则，您的代码可能会因为空指针而崩溃。所以，请务必学会在代码中正确地使用指针。