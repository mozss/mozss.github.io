---
title: Rocketmq vs Kafka
tags:
  - rocketmq
categories:
  - code
  - code-java
abbrlink: 62876
date: 2020-08-19 04:46:04
---
[![ppnXHbV.png](https://s1.ax1x.com/2023/03/10/ppnXHbV.png)](https://imgse.com/i/ppnXHbV)

<!--more-->

# RocketMQ vs. Kafka


## 简介

RocketMQ和Kafka都是一种高性能的分布式消息系统。RocketMQ是Apache基金会的顶级项目，而Kafka则是由LinkedIn开发的Apache顶级项目。

RocketMQ和Kafka的目的都是处理大量数据量的分布式消息传输，用于解决分布式系统中的通信问题。

RocketMQ着重于可靠和快速消息传输，提供更好的消息存储、更强的容错机制，以及优秀的事务支持。而Kafka更注重于高可扩展性和可整合性，支持多种消费模式，如发布/订阅、队列、流、复制等。

## 架构

RocketMQ基于压缩、排序和索引实现高效的消息存储和搜索，在消息存储格式、存储方式、索引方式方面进行了深度优化，从而达到高性能的要求。

Kafka的一个特点是，数据写入后不会被立即删除，而是由Kafka进行数据存储和维护。Kafka实现了高效的存储机制，通过预取机制，实现了高速批量消息处理。

## 性能

RocketMQ是一个高度可靠和高性能的消息系统。因为RocketMQ使用主从模式进行高可用性和故障转移，所以在消息传递方面具有很高的可靠性。此外，RocketMQ通过固定的消息格式实现了高效的消息压缩、排序和索引，减小了系统消耗的带宽和磁盘空间。

Kafka通过高度优化的存储机制和基于批处理的处理机制，实现了高效、高稳定的消息传输。它支持高吞吐量和分区分裂，因此非常适合大数据量的传输。

## 吞吐量

RocketMQ的吞吐量取决于硬盘的每秒钟IO速度，确保了可靠性的前提下，保持了高吞吐量。

Kafka在相对较高的吞吐量方面表现的更好，因为它可以支持更高的分区数量和分区分裂。

## 消费模式

RocketMQ支持广播和负责任分布式消费模式。你可以选择多个消费节点以相同或者不同的组ID订阅相同的消息，RocketMQ将自动保证每个消息只被一个消费者消费。此外，RocketMQ的事务消息支持一阶段和两阶段支持。

Kafka支持发布/订阅、队列和流消费模式。在被消费者订阅时，消息是被分发到任意集群成员的。

## 结论

那么，我们应该何时选择RocketMQ，何时选择Kafka呢？如果你的应用程序需要保证高吞吐量、可靠性和顺序访问，那么RocketMQ可能更适合。如果你需要一个高度可扩展和灵活的不严格要求顺序访问的消息队列，那么Kafka可能更适合。

好啦，今天我们就这样结束啦。希望本文能对堆糖吃货们有所帮助。如果你有任何问题或者疑问，欢迎在评论区留言哦！ 我们下期再见。